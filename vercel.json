{
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "Content-Encoding",
          "value": "br"  // Brotli compression is preferred over gzip
        },
        {
          "key": "Cache-Control",
          "value": "public, max-age=31536000, immutable"  // Cache static assets for 1 year
        },
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"  // Security header
        },
        {
          "key": "X-Frame-Options",
          "value": "DENY"  // Security header to prevent clickjacking
        },
        {
          "key": "X-XSS-Protection",
          "value": "1; mode=block"  // Security header for XSS protection
        }
      ]
    },
    {
      "source": "/index.html",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "no-cache"  // Ensure HTML is always fresh
        }
      ]
    }
  ],
  "rewrites": [
    {
      "source": "/",
      "destination": "/index.html"
    }
  ],
  "functions": {
    "memory": 512,  // Adjust memory allocation based on your needs
    "maxDuration": 10  // Set the maximum duration for serverless functions
  },
  "trailingSlash": false,
  "cleanUrls": true,
  "redirects": [
    {
      "source": "/old-url",
      "destination": "/new-url",
      "permanent": true
    }
  ],
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "Link",
          "value": "</static/styles.css>; rel=preload; as=style, </static/script.js>; rel=preload; as=script"
        },
        {
          "key": "Strict-Transport-Security",
          "value": "max-age=63072000; includeSubDomains; preload"  // Enforce HTTPS
        }
      ]
    },
    {
      "source": "/fonts/(.*)",
      "headers": [
        {
          "key": "Access-Control-Allow-Origin",
          "value": "*"  // Allow cross-origin requests for fonts
        }
      ]
    }
  ],
  "dnsPrefetchControl": {
    "allow": true
  },
  "compression": {
    "brotli": true,
    "gzip": true
  },
  "edgeCaching": {
    "staticAssets": true  // Enable edge caching for static assets
  }
}
